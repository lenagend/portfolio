<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.novelMapper">

<!-- 전체 작품수 가져오기 -->
<select id="countNovelList" resultType="Integer">
select count(*) from novel where blind = 'no' and episode != 0
</select>
<!-- 이메일로 작품갯수찾아오기-->
<select id="getMaxMyNovel" resultType="Integer">
select count(*) from novel where email = #{value} and blind = 'no'
</select>
<!-- 이메일로 작품찾아오기 -->
<select id="findMyNovel" resultType="model.Novel">


SELECT * FROM novel where email = #{email} LIMIT #{startRow}, #{endRow};

</select>
<!-- 완결났는지 -->
<select id="countNotFinished" resultType="Integer">
select count(*) from novel where email=#{email} and finish ='no'
</select>

<!-- 작품등록하기 -->
<insert id="insertNovel">
insert into novel (title, episode, email, finish, image, blind, description, type, epi_regi_date, favorite_num )
values(#{title}, 0, #{email},  'no', #{image},  'no', #{description}, #{type}, 0,  0)

</insert>

</mapper>






